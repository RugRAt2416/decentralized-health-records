{
  "_format": "hh-sol-artifact-1",
  "contractName": "HealthRecord",
  "sourceName": "contracts/HealthRecord.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "recordId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "doctor",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "AccessGranted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "recordId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "ipfsHash",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "RecordAdded",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "access",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_hash",
          "type": "string"
        }
      ],
      "name": "addRecord",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_id",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "_doctor",
          "type": "address"
        }
      ],
      "name": "grantAccess",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_id",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "_user",
          "type": "address"
        }
      ],
      "name": "hasAccess",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "recordCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "records",
      "outputs": [
        {
          "internalType": "string",
          "name": "ipfsHash",
          "type": "string"
        },
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50610d22806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063344610671461006757806365dd152c14610098578063900407bc146100b457806395e9463f146100d2578063ced1419814610102578063d81aa8c414610132575b600080fd5b610081600480360381019061007c9190610583565b61014e565b60405161008f929190610681565b60405180910390f35b6100b260048036038101906100ad91906106dd565b61021a565b005b6100bc61038f565b6040516100c9919061072c565b60405180910390f35b6100ec60048036038101906100e791906106dd565b610395565b6040516100f99190610762565b60405180910390f35b61011c600480360381019061011791906106dd565b6103c4565b6040516101299190610762565b60405180910390f35b61014c600480360381019061014791906108b2565b61042c565b005b60006020528060005260406000206000915090508060000180546101719061092a565b80601f016020809104026020016040519081016040528092919081815260200182805461019d9061092a565b80156101ea5780601f106101bf576101008083540402835291602001916101ea565b820191906000526020600020905b8154815290600101906020018083116101cd57829003601f168201915b5050505050908060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905082565b3373ffffffffffffffffffffffffffffffffffffffff1660008084815260200190815260200160002060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16146102bd576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016102b4906109a7565b60405180910390fd5b600180600084815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055508073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16837f9ffcf664651d52310aeb78c0f8382ca5078d2de7d3cf618cb5ce6e5cabf0099242604051610383919061072c565b60405180910390a45050565b60025481565b60016020528160005260406000206020528060005260406000206000915091509054906101000a900460ff1681565b60006001600084815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b60405180604001604052808281526020013373ffffffffffffffffffffffffffffffffffffffff16815250600080600254815260200190815260200160002060008201518160000190816104809190610b73565b5060208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055509050503373ffffffffffffffffffffffffffffffffffffffff166002547f41c2fdbc52251037b6b5f6fd677d957c408a86b927c557111e9647278902ae178342604051610516929190610c45565b60405180910390a36002600081548092919061053190610ca4565b919050555050565b6000604051905090565b600080fd5b600080fd5b6000819050919050565b6105608161054d565b811461056b57600080fd5b50565b60008135905061057d81610557565b92915050565b60006020828403121561059957610598610543565b5b60006105a78482850161056e565b91505092915050565b600081519050919050565b600082825260208201905092915050565b60005b838110156105ea5780820151818401526020810190506105cf565b60008484015250505050565b6000601f19601f8301169050919050565b6000610612826105b0565b61061c81856105bb565b935061062c8185602086016105cc565b610635816105f6565b840191505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061066b82610640565b9050919050565b61067b81610660565b82525050565b6000604082019050818103600083015261069b8185610607565b90506106aa6020830184610672565b9392505050565b6106ba81610660565b81146106c557600080fd5b50565b6000813590506106d7816106b1565b92915050565b600080604083850312156106f4576106f3610543565b5b60006107028582860161056e565b9250506020610713858286016106c8565b9150509250929050565b6107268161054d565b82525050565b6000602082019050610741600083018461071d565b92915050565b60008115159050919050565b61075c81610747565b82525050565b60006020820190506107776000830184610753565b92915050565b600080fd5b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6107bf826105f6565b810181811067ffffffffffffffff821117156107de576107dd610787565b5b80604052505050565b60006107f1610539565b90506107fd82826107b6565b919050565b600067ffffffffffffffff82111561081d5761081c610787565b5b610826826105f6565b9050602081019050919050565b82818337600083830152505050565b600061085561085084610802565b6107e7565b90508281526020810184848401111561087157610870610782565b5b61087c848285610833565b509392505050565b600082601f8301126108995761089861077d565b5b81356108a9848260208601610842565b91505092915050565b6000602082840312156108c8576108c7610543565b5b600082013567ffffffffffffffff8111156108e6576108e5610548565b5b6108f284828501610884565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000600282049050600182168061094257607f821691505b602082108103610955576109546108fb565b5b50919050565b7f4e6f74206f776e65720000000000000000000000000000000000000000000000600082015250565b60006109916009836105bb565b915061099c8261095b565b602082019050919050565b600060208201905081810360008301526109c081610984565b9050919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302610a297fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826109ec565b610a3386836109ec565b95508019841693508086168417925050509392505050565b6000819050919050565b6000610a70610a6b610a668461054d565b610a4b565b61054d565b9050919050565b6000819050919050565b610a8a83610a55565b610a9e610a9682610a77565b8484546109f9565b825550505050565b600090565b610ab3610aa6565b610abe818484610a81565b505050565b5b81811015610ae257610ad7600082610aab565b600181019050610ac4565b5050565b601f821115610b2757610af8816109c7565b610b01846109dc565b81016020851015610b10578190505b610b24610b1c856109dc565b830182610ac3565b50505b505050565b600082821c905092915050565b6000610b4a60001984600802610b2c565b1980831691505092915050565b6000610b638383610b39565b9150826002028217905092915050565b610b7c826105b0565b67ffffffffffffffff811115610b9557610b94610787565b5b610b9f825461092a565b610baa828285610ae6565b600060209050601f831160018114610bdd5760008415610bcb578287015190505b610bd58582610b57565b865550610c3d565b601f198416610beb866109c7565b60005b82811015610c1357848901518255600182019150602085019450602081019050610bee565b86831015610c305784890151610c2c601f891682610b39565b8355505b6001600288020188555050505b505050505050565b60006040820190508181036000830152610c5f8185610607565b9050610c6e602083018461071d565b9392505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610caf8261054d565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203610ce157610ce0610c75565b5b60018201905091905056fea264697066735822122023489f01996f6a98f3a2d39c8895731399b899653211916875d928fc2b0c5ce064736f6c63430008180033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100625760003560e01c8063344610671461006757806365dd152c14610098578063900407bc146100b457806395e9463f146100d2578063ced1419814610102578063d81aa8c414610132575b600080fd5b610081600480360381019061007c9190610583565b61014e565b60405161008f929190610681565b60405180910390f35b6100b260048036038101906100ad91906106dd565b61021a565b005b6100bc61038f565b6040516100c9919061072c565b60405180910390f35b6100ec60048036038101906100e791906106dd565b610395565b6040516100f99190610762565b60405180910390f35b61011c600480360381019061011791906106dd565b6103c4565b6040516101299190610762565b60405180910390f35b61014c600480360381019061014791906108b2565b61042c565b005b60006020528060005260406000206000915090508060000180546101719061092a565b80601f016020809104026020016040519081016040528092919081815260200182805461019d9061092a565b80156101ea5780601f106101bf576101008083540402835291602001916101ea565b820191906000526020600020905b8154815290600101906020018083116101cd57829003601f168201915b5050505050908060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905082565b3373ffffffffffffffffffffffffffffffffffffffff1660008084815260200190815260200160002060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16146102bd576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016102b4906109a7565b60405180910390fd5b600180600084815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083151502179055508073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16837f9ffcf664651d52310aeb78c0f8382ca5078d2de7d3cf618cb5ce6e5cabf0099242604051610383919061072c565b60405180910390a45050565b60025481565b60016020528160005260406000206020528060005260406000206000915091509054906101000a900460ff1681565b60006001600084815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16905092915050565b60405180604001604052808281526020013373ffffffffffffffffffffffffffffffffffffffff16815250600080600254815260200190815260200160002060008201518160000190816104809190610b73565b5060208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055509050503373ffffffffffffffffffffffffffffffffffffffff166002547f41c2fdbc52251037b6b5f6fd677d957c408a86b927c557111e9647278902ae178342604051610516929190610c45565b60405180910390a36002600081548092919061053190610ca4565b919050555050565b6000604051905090565b600080fd5b600080fd5b6000819050919050565b6105608161054d565b811461056b57600080fd5b50565b60008135905061057d81610557565b92915050565b60006020828403121561059957610598610543565b5b60006105a78482850161056e565b91505092915050565b600081519050919050565b600082825260208201905092915050565b60005b838110156105ea5780820151818401526020810190506105cf565b60008484015250505050565b6000601f19601f8301169050919050565b6000610612826105b0565b61061c81856105bb565b935061062c8185602086016105cc565b610635816105f6565b840191505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061066b82610640565b9050919050565b61067b81610660565b82525050565b6000604082019050818103600083015261069b8185610607565b90506106aa6020830184610672565b9392505050565b6106ba81610660565b81146106c557600080fd5b50565b6000813590506106d7816106b1565b92915050565b600080604083850312156106f4576106f3610543565b5b60006107028582860161056e565b9250506020610713858286016106c8565b9150509250929050565b6107268161054d565b82525050565b6000602082019050610741600083018461071d565b92915050565b60008115159050919050565b61075c81610747565b82525050565b60006020820190506107776000830184610753565b92915050565b600080fd5b600080fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6107bf826105f6565b810181811067ffffffffffffffff821117156107de576107dd610787565b5b80604052505050565b60006107f1610539565b90506107fd82826107b6565b919050565b600067ffffffffffffffff82111561081d5761081c610787565b5b610826826105f6565b9050602081019050919050565b82818337600083830152505050565b600061085561085084610802565b6107e7565b90508281526020810184848401111561087157610870610782565b5b61087c848285610833565b509392505050565b600082601f8301126108995761089861077d565b5b81356108a9848260208601610842565b91505092915050565b6000602082840312156108c8576108c7610543565b5b600082013567ffffffffffffffff8111156108e6576108e5610548565b5b6108f284828501610884565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b6000600282049050600182168061094257607f821691505b602082108103610955576109546108fb565b5b50919050565b7f4e6f74206f776e65720000000000000000000000000000000000000000000000600082015250565b60006109916009836105bb565b915061099c8261095b565b602082019050919050565b600060208201905081810360008301526109c081610984565b9050919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302610a297fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826109ec565b610a3386836109ec565b95508019841693508086168417925050509392505050565b6000819050919050565b6000610a70610a6b610a668461054d565b610a4b565b61054d565b9050919050565b6000819050919050565b610a8a83610a55565b610a9e610a9682610a77565b8484546109f9565b825550505050565b600090565b610ab3610aa6565b610abe818484610a81565b505050565b5b81811015610ae257610ad7600082610aab565b600181019050610ac4565b5050565b601f821115610b2757610af8816109c7565b610b01846109dc565b81016020851015610b10578190505b610b24610b1c856109dc565b830182610ac3565b50505b505050565b600082821c905092915050565b6000610b4a60001984600802610b2c565b1980831691505092915050565b6000610b638383610b39565b9150826002028217905092915050565b610b7c826105b0565b67ffffffffffffffff811115610b9557610b94610787565b5b610b9f825461092a565b610baa828285610ae6565b600060209050601f831160018114610bdd5760008415610bcb578287015190505b610bd58582610b57565b865550610c3d565b601f198416610beb866109c7565b60005b82811015610c1357848901518255600182019150602085019450602081019050610bee565b86831015610c305784890151610c2c601f891682610b39565b8355505b6001600288020188555050505b505050505050565b60006040820190508181036000830152610c5f8185610607565b9050610c6e602083018461071d565b9392505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000610caf8261054d565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203610ce157610ce0610c75565b5b60018201905091905056fea264697066735822122023489f01996f6a98f3a2d39c8895731399b899653211916875d928fc2b0c5ce064736f6c63430008180033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
